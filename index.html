<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="js/jquery.min.js"></script>
    <script src="js/socket.io.js"></script>
     <link rel="stylesheet" href="css/switch.css">
     <link rel="stylesheet" href="css/wheel.css">
     <link rel="stylesheet" href="css/slider.css">
     <link rel="stylesheet" href="css/leds.css">
     <link rel="stylesheet" href="css/main.css">
</head>
<body>
    <header id="header">
        
        <div id="inputData">
            <h3></h3>
            <div id="switchesInput">
              <table>

                <tr>
                    <th>Switch One</th>
                    <th>Switch Two</th> 
                    <th>Swtich Three</th>
                    <th>Switch Four</th>
                </tr>
                
                <tr>
                    <td>
                        <div class="container">
                            <label class="switch" for="SwitchOne">
                            <input type="checkbox" class="inputSwitch" id="SwitchOne" />
                            <div class="slider round"></div>
                            </label>
                        </div>
                    </td>
                    <td>
                        <div class="container">
                            <label class="switch" for="SwitchTwo">
                            <input type="checkbox" class="inputSwitch" id="SwitchTwo" />
                            <div class="slider round"></div>
                            </label>
                        </div>
                    </td> 
                    <td>
                        <div class="container">
                            <label class="switch" for="SwitchThree">
                            <input type="checkbox" class="inputSwitch" id="SwitchThree" />
                            <div class="slider round"></div>
                            </label>
                        </div>
                    </td>
                    <th>
                        <div class="container">
                            <label class="switch" for="SwitchFour">
                            <input type="checkbox" class="inputSwitch" id="SwitchFour" />
                            <div class="slider round"></div>
                            </label>
                        </div>
                    </th>
                </tr>

            </table>
            </div>
            
            <div class="headerDiv" id="rotationInput">
                
                <div id="axisDegreeInput">
                    <div id="axisValue" class="value">0</div>
                    <input id="axisInput" type="range" min="-90" max="90" step="1" value="0">
                </div>
                <h3>Axis</h3>
            </div>
            
            <div class="headerDiv" id="wheelInput">
                
                <div id="wheelSpeedInput">
                    <div id="speedValue" class="value">0</div>
                    <input id="speedInput" type="range" min="0" max="100" step="1" value="0">
                </div>
                <h3>Speed</h3>
            </div>
            
        </div>    
            
    </header>
    <main id="main">
        <h3>Limit Switches</h3>
            <div id="headerContent">
        </div>
       
        <h3></h3>
        <div id="mainContent">
            <div id="mainContentHeader">
                <div id="limitSwitches">
                    <div class="switchLED">
                        <p>Switch One</p>
                        <div id="SwitchOneLED"   class=" led-green"></div>
                    </div>
                    <div class="switchLED">
                        <p>Switch Two</p>
                        <div id="SwitchTwoLED"   class=" led-green"></div>
                    </div>
                    <div class="switchLED">
                        <p>Switch Three</p>
                        <div id="SwitchThreeLED" class=" led-green"></div>
                    </div>
                    <div class="switchLED">
                        <p>Switch Four</p>
                        <div id="SwitchFourLED"  class=" led-green"></div>
                    </div>
                </div>
            </div>
            <div id="mainContentBody">
                
                <div id="WheelContainer" class="ContentContainer">
                    <p id="WheelSpeed">0 MPH</p>
                    <span id="wheel"></span>
                </div>
                <div id="SpaceThree" class="ContentContainer Space">
                    
                </div>
                <div id="BreakContainer" class="ContentContainer">
                    <p id="breakState">Up</p>
                    <span id="break"></span>
                </div>
                <div id="SpaceTwo" class="ContentContainer Space">
                
                </div>
                <div id="AxisContainer" class="ContentContainer">
                    <p id="DegreeAngel">0 &deg;</p>
                    <span id="sopbot"></span>
                </div>    
            </div>
            <div id="mainContentFooter">
                
                <div id="FooterSpaceOne" class="ContentContainer"></div>
                
                <div id="FooterSpaceTwo" class="ContentContainer Space"></div>
                
                <div id="ground" class="ContentContainer"></div>
                
                <div id="FooterSpaceThree" class="ContentContainer Space"></div>
                
                <div id="FooterSpaceFour" class="ContentContainer"></div>
                <div id="FooterSpaceFour" class="ContentContainer"></div> 
                
            </div>
        </div>
    </main>
    <script type="text/javascript">
    $(document).ready(function(){
        //For this dashboard Break up is switch two and Break down and switch three
        //All The way left is Switch One and All the way right is switch four
        
        const socket = io();
        
        //Document IDs
        
        
        const Testing = true;
        
        //All Vars coming from Pie
        
        const steerMotorSpeed = 0;
        const releasingBreak = 0;
        const applyingBreak = 0;
        const leftHallValue = 0;
        const rightHallValue = 0;
        const leftHallCount = 0;
        const rightHallCount = 0;
        const leftSteerLimitSwitch = 0;
        const rightSteerLimitSwitch = 0;
        const breakReleasedLimitSwitch = 0;
        const breakApplyLimitSwitch = 0;
        const potentioneter = 0; 
        const inAuto = 0;
        
        if(!Testing){
            $('#header').hide();
        }
        
        
        //Set All Values before change
        
        //Setting Break
        if($('#breakState').text() === 'Up'){
            
            MoveBreakUp();
            $('#SwitchTwo').prop('checked', true);
            $('#SwitchThree').prop('checked', false);
            $('#SwitchTwoLED').addClass('led-green-blink');
            $('#SwitchThreeLED').removeClass('led-green-blink');
            
        }else if($('#breakState').text() === 'Down'){
            
            MoveBreakDown();
            $('#SwitchThree').prop('checked', true);
            $('#SwitchTwo').prop('checked', false);
            $('#SwitchThreeLED').addClass('led-green-blink');
            $('#SwitchTwoLED').removeClass('led-green-blink');
        }
        
        //Setting Axis
        if($('#speedInput').val() === -90){
           
            $('#SwitchOne').prop('checked', true);
            $('#SwitchFour').prop('checked', false);
            $('#SwitchOneLED').addClass('led-green-blink');
            $('#SwitchFourLED').removeClass('led-green-blink');
        
            
           }else if($('#speedInput').val() === 90){
               
           $('#SwitchFour').prop('checked', true);
            $('#SwitchOne').prop('checked', false);
            $('#SwitchFourLED').addClass('led-green-blink');
            $('#SwitchOneLED').removeClass('led-green-blink');
            
        }
        
        
        
        
        
        
        $('.inputSwitch').change(function(){
            const LED = $(this).attr('id');
            const SwitchID = $(this).attr('id');
            
            if($(this).is(':checked')){
                
                $('#' + LED + 'LED').addClass('led-green-blink');
                
            }else{
                
                $('#' + LED + 'LED').removeClass('led-green-blink');
                
            }
            
            switch(SwitchID){
                    
                case 'SwitchOne':
                    SetAxisLeft()
                    break;
                case 'SwitchTwo':
                    MoveBreakUp();
                    break;
                case 'SwitchThree':
                    MoveBreakDown();
                    break;
                case 'SwitchFour':
                    SexAxisRight();
                    break;
            }
              
        });
        
        $('#speedInput').on('input', function(){
           
            const speed = parseInt($(this).val());
            let WheelSpeed = speed / 100;
            
            $('#speedValue').text(speed);
            $('#WheelSpeed').text(speed + ' MPH');
            $('#wheel').css({
                "animation-name": "rotate_wheel",
                "animation-iteration-count": "infinite",
                "animation-play-state": "running",
                "animation-timing-function": "linear",
                "animation-duration": "" + WheelSpeed + "s"
                
            })
            
        });
        
        $('#axisInput').on('input', function(){
           
            const degree = parseInt($(this).val());
            //console.log(degree);
            $('#axisValue').text(degree);
            $('#DegreeAngel').html(degree + '&deg;');
            
            $('#sopbot').css({
                "transform": "rotate(" + degree + "deg)", 
                "transition": "2s ease all"});
            
        });
        
        
    });
        
    function MoveBreakUp(){
        $('#SwitchThree').prop('checked', false);
        $('#SwitchThreeLED').removeClass('led-green-blink');
        $('#breakState').text('Up');
        $('#break').css({
                "transform": "none", 
                "transition": "2s ease all"});
        
    }   
        
    function MoveBreakDown(){
        
        $('#SwitchTwo').prop('checked', false);
        $('#SwitchTwoLED').removeClass('led-green-blink');
        $('#breakState').text('Down');
        $('#break').css({
                "transform": "translateY(50px)", 
                "transition": "2s ease all"});
        
    }   
        
    function SetAxisLeft(){
        
        $('#SwitchOne').prop('checked', true);
        $('#SwitchFour').prop('checked', false);
        $('#SwitchOneLED').addClass('led-green-blink');
        $('#SwitchFourLED').removeClass('led-green-blink');
        $('#axisInput').val(-90);
        $('#axisValue').text(-90);
        $('#DegreeAngel').html(-90 + '&deg;');
        $('#sopbot').css({
                "transform": "rotate(" + -90 + "deg)", 
                "transition": "2s ease all"});
            
    }
        
    function SexAxisRight(){
         $('#SwitchFour').prop('checked', true);
        $('#SwitchOne').prop('checked', false);
        $('#SwitchFourLED').addClass('led-green-blink');
        $('#SwitchOneLED').removeClass('led-green-blink');
        $('#axisInput').val(90);
        $('#axisValue').text(90);
        $('#DegreeAngel').html(90 + '&deg;');
        $('#sopbot').css({
                "transform": "rotate(" + 90 + "deg)", 
                "transition": "2s ease all"});
    }    
    </script>
</body>
</html>